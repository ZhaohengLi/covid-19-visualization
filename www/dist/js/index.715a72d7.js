(function(t){function e(e){for(var n,r,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={index:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0d42":function(t,e,a){"use strict";var n=a("30bc"),i=a.n(n);i.a},"30bc":function(t,e,a){},"359c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFjElEQVR42uSbb2hVdRjHf7tszdXUWduqWW2u1da1hFrWerGihjkTsSEpYa5pMMFqCiX1IgwMIogIBKP5whLD8M+LXpkFqStQGegLuc2hMxbLojVz4uZWrq3vw32OnK7nnnOe3znn7nfogc+L3f3+PM/3nPOc37+TNzU1pSK2KvAkmA9qwX3gNlAMbuEyo2AEXARnmRT4AfRH6VxeBAIkwFPgRfAsqAzY3s/gW/Al6AKTpgpQDl4HbeCuiC7YL+BzsA38YYoAFOxm0A5mqNzYONgBPmRR9I0E0KQAbAajU9Nno+xDgW4cundAPdgNHlBm2BmwBpzUSViiRwZsBMcMCl6xL+RTB/sYSQ4oArvAC8ps2w9eBmNhCjAbfA2eUPGw42AJuByGABT8YfCIipdRPmjyEsErB9wMDsUweCtRH+IYtASgZPIFaFDxtQaOIU9HgDdAi4q/tXAsohxAye57kO/R+NP8jC0AzeD5HIwGaRT4Fd/epzlHHfGoM8ETsuN+RoKF4JyPUdgph7ol4G3wZwSjvkvcdolDv6d81D/Hsf2nrtMVfgvU+LgShx1+GwYfgE/BVvCq7TEbAj/y9PY3/vsa/68AlII7efo8n/9WPPvbDrZw+05Gd8DDHv7WcGxb3e6AajDu84q0+Rhr14OXQKXGOL2S69b7KNvm0+dxjvF63cyGOgW3ZHOAiVTYNAv87rTXtb8F7gFrBcmowKBMf5Og7FqO9YbX4CZhUGUGCVAqvHCbMgWgH1cLO33UIAGkvqy2LrYlwGJe0pLYYwYJIPWlnGO+LsAqYQP0+tpgkAAbbK9Uv7bKLsAiYeX3QLdBAnTf8H73tkXWUJhWU3oEFX8F9/KQ1CSjIXgfmCuok6Q7oFHY0XYDg7fmCJ8I6zQmNNb29ho889snXUskAWoFFWgN/rzBAtAjcEFQvjbhc+JjWW8M5v9nBGVrSIA5ggq/x0CAQUHZW0mAmYIKEzEQQDIeKCYBCgUVZsVAgNmCsoXSnaGZMRBA5CMJMCYoPy8GAlQJyo6RAFcEFeiwQ5HBwRcp2YGMKyTAgKBCvmHT4ExbqLxXsu02QAL0CztZarAAzwnL9yeEEyGylUq+rZ4LS7BvEutJaExr52l0lAtbqZGku2k6XK4xwvsJPASuGhI8bYCmNAS4PcFDR+nRkmqVPqllim3TCJ5iHrSe5YManb4C3jEg+C3si9TSMfMGQV2APbsdYMY0bIYUcd+6Vpe5M3QiQGNnwTKQl4PAqY8W0BfA3xNOW2OtWQp/BxrBclbcbe/wNNgIqiIIvAa8CXpC2GludTonmM/Z/W6HVaDFtvHC/Sq9P++1lEYDrC7OznT4+Rvwl2BC08yrVUmV3tufG1LOGOAkPmHPARbrXU5krrGVK/N5hsCyXcLHg8rujOh06Xq33eF8kHKpvM5WdiH4x0eHF8EsjVue6gyFHHyKY8wqANHksb+etJV910enHwd47j8KWYCmzD6ydex2TuBgxq36vkenSwMIsCTE4Dud+sjWcbHHa2ZBRvnHwW7OC8PgPDjA2bYwgADVIQXfxzH5FoB4EIxkaXBvjgY7JSEEP8KxOPbhNq2l11ercv5EhWZecThDOMkxpLKW8HEV2rMoexWsMPwOaPfqw68jHS6d7AcNEQ2DgwjQEfYXI/RFxk6XNbchvtUu8+oMrTPU8SrtsOYtXAIuCevQCG+dSn/R4mnST2boc7h9SnacZk4OBRjk/NQlWUeTGDVMR+ePGpjwjrJvXZJKOoubtP38DHhNpb/4nG4jHzrYpwvi2gGTVAVPWiZdktEdAdovc2mX+vyMfdCOIaxsneQZ398OjpYFaLfUob1r3FcyDN/Dfm1V8JH2XnZ2Twht7uG2erntijB9juLj6VhZQv3P7V8BBgAKqy0Tg0JzXwAAAABJRU5ErkJggg=="},5490:function(t,e,a){"use strict";var n=a("a6b6"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=a("2f62");n["default"].use(i["a"]);var o={showFooter:!0,changableNum:4},r=new i["a"].Store({state:o}),s=r,l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Head"),a("router-view")],1)},c=[],u=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"pageHead",staticStyle:{"text-align":"left"}},[n("div",{staticStyle:{"text-align":"right"}},[n("span",[n("a",{staticStyle:{color:"#fff","text-decoration":"none"},attrs:{href:"https://github.com/simonblowsnow/2019-ncov-vis"}},[n("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("359c"),width:"18"}}),n("label",{staticStyle:{"font-size":"16px"}},[t._v(" Github")])])])]),n("div",[n("div",{staticStyle:{"font-size":"24px"}},[t._v("新冠肺炎疫情"),n("label",{staticStyle:{"font-size":"22px"}},[t._v(" · 数据分析系统")])]),n("div",{staticStyle:{"font-size":"20px","margin-top":"5px",color:"#ddd","font-family":"'Times New Roman', Times, serif"}},[t._v(" WuHan COVID-19 Data Visualization Analysis System ")])])])])}],m={name:"Head"},p=m,h=(a("e4bd"),a("2877")),f=Object(h["a"])(p,u,d,!1,null,null,null),g=f.exports,v={name:"App",components:{Head:g}},x=v,b=Object(h["a"])(x,l,c,!1,null,null,null),y=b.exports,w=a("313e"),A=a.n(w),S=(a("87a1"),a("0fae"),a("5453"),a("5c96")),C=a.n(S),k=a("6884"),D=a.n(k),T=a("8c4f"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("el-main",[a("Common",{attrs:{title:t.loader.title,updateTime:t.loader.updateTime,sums:t.loader.sums,tabs:t.tabs,activeName_:t.loader.activeName},on:{handleClickTab:function(e){return t.click(e)}}})],1),a("div",{staticClass:"blink",staticStyle:{position:"fixed",right:"10px",top:"90px","font-weight":"400","font-family":"宋体"}},[a("router-link",{attrs:{to:"/map"}},[t._v("舆情谣言判断器")])],1)],1)},N=[],F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hello"},[a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticStyle:{height:"40px","line-height":"40px"}},[a("label",{staticStyle:{"font-weight":"800","font-size":"18px"}},[t._v(t._s(t.title))]),a("label",{staticStyle:{float:"right",color:"#4197FD"}},[t._v("数据更新时间： "+t._s(t.updateTime))])])]),a("el-card",{staticClass:"box-card",staticStyle:{background:"#f4f4f5"}},[a("el-row",{attrs:{gutter:20}},t._l(t.sums,(function(e){return a("el-col",{key:e.name,attrs:{span:6}},[a("div",{staticClass:"grid-content "},[a("div",{staticClass:"sum_numb",style:{color:e.color,fontSize:"20px",marginBottom:"8px"}},[t._v(t._s(e.sum))]),a("div",{staticClass:"sum_numb",staticStyle:{color:"#333333","font-size":"14px"}},[t._v(t._s(e.text)+"病例")]),a("div",{staticClass:"sum_numb",staticStyle:{"font-size":"13px",color:"#999999","margin-top":"8px"}},[a("label",{staticStyle:{"font-weight":"200"}},[t._v("昨日 ")]),a("label",{style:{color:e.color}},[t._v(t._s(e.add))])])])])})),1)],1)],1),a("div",{staticStyle:{"padding-top":"10px"}},[a("el-tabs",{on:{"tab-click":t.handleClickTab},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(e,n){return a("el-tab-pane",{key:n,attrs:{label:e.label,name:e.name}},[n<4?a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.activeName==e.name,expression:"activeName==c.name"}],attrs:{gutter:5}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"chart",style:{height:t.mapHeight},attrs:{id:e.ids[0]}})]),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"chart",staticStyle:{height:"500px"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticStyle:{height:"900px"},attrs:{id:e.ids[1]}})])],1)])],1):(n=4)?a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.activeName==e.name,expression:"activeName==c.name"}]},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"chart",staticStyle:{height:"500px"},attrs:{id:e.ids[0]}})])],1):a("el-row",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"1==1"}]},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"chart",staticStyle:{height:"500px"},attrs:{id:e.ids[0]}})])],1)],1)})),1)],1),1==t.ifnews?a("div",[a("light-timeline",{attrs:{items:t.items}})],1):t._e(),a("div",{staticStyle:{height:"20px"}})])},I=[],B=(a("d81d"),a("13d5"),a("fb6a"),a("b0c0"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("5319"),a("bc3a")),M=a.n(B),j={Test:"test",Login:"webLogin",GetMap:"getMap",GetDataDetails:"getDataDetails",GetTimeData:"getTimeData",GetDataChina:"getDataChina",GetDataSummary:"getDataSummary",GetDataPos:"getDataPos",GetNews:"testNewsData",GetRumors:"testRumorData"},G=a("125e"),E={setCookie:function(t,e,a){a=a||200;var n=new Date;n.setTime(n.getTime()+3600*a*1e3),document.cookie=t+"="+escape(e)+";expires="+n.toUTCString()},getCookie:function(t,e){void 0===e&&(e=null);var a=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),n=document.cookie.match(a);return n?unescape(n[2]):e},postData:function(t,e,a,n,i){e["tk"]=E.getCookie("tk"),e["lc"]=E.getCookie("lc"),M.a.post("/api/"+t,e,i||{}).then((function(t){t.data.error?alert(t.data.message):a&&a(t.data)})).catch((function(t){n&&n(t)}))},ajaxData:function(t,e,a,n){e["tk"]=E.getCookie("tk"),e["lc"]=E.getCookie("lc"),"none"==e["need"]&&(e={}),M.a.get("/api/"+t,{params:e}).then((function(t){t.data.error?alert(t.data.message):a&&a(t.data)})).catch((function(t){n&&n(t)}))},login:function(t,e,a){E.postData(j.Login,{username:t||"david",password:e||"123456"},(function(t){t.error||(E.setCookie("tk",t.data.tk),E.setCookie("lc",t.data.lc),a&&a())}))},Names:{},formatRegion:function(t,e){var a=A.a.getMap(t);if(a){var n=E.Names[t];return e.map((function(t){return{name:n[t[0]],value:t[1],code:t[0],tags:t.slice(2)}}))}},replaceAll:function(t,e,a){return t.replace(new RegExp(e,"gm"),a)},registerMap:function(t,e){e=JSON.parse(e),A.a.registerMap(t,e),E.Names[t]=e.features.reduce((function(t,e){return t[e.id.toString()]=e.properties.name,t}),{})},drawGraph:function(t,e){var a=A.a.init(document.getElementById(e));return a.setOption(t),a},draw:function(t,e){return t.instance=E.drawGraph(t.option,e),t.instance},getDevice:function(){var t=document.documentElement.offsetWidth||document.body.offsetWidth;return t<768?"xs":t<1064?"sm":t<1200?"md":"lg"},last:function(t){return t[t.length-1]},interpolateColor:function(t,e,a){if(void 0==a){var n=[e,0];a=n[0],e=n[1]}for(var i=a-e,o=1/(t.length-1),r=[],s=0;s<t.length-1;s++)r.push(G["a"](t[s],t[s+1]));this.compute=function(t){if(t>=a)return r[r.length-1](1);var n=(t-e)/i,s=parseInt(n/o),l=(n-s*o)/o,c=r[s];return c(l)}},Colors:["#F55253","#FF961E","#66666c","#178B50"]},P={name:"Common",props:{title:String,updateTime:String,sums:Array,tabs:Array,activeName_:String},data:function(){return{ifnews:!1,items:[{tag:"1-2-3",content:"1-2-3"}],activeName:"",mapHeight:"xs"===E.getDevice()?"330px":"500px"}},computed:{listenstore:function(){return this.$store.state.showFooter}},mounted:function(){this.init()},watch:{listenstore:function(){console.log("listen_change"+this.$store.state.showFooter),this.$store.state.showFooter?this.ifnews=!0:this.ifnews=!1},activeName_:function(t){this.activeName=t,console.log("changeto:"+t)}},methods:{init:function(){var t=this,e=j.GetNews;E.ajaxData(e,{need:"none"},(function(e){var a=0;for(t.items=e.data,a=0;a<e.data.length;a++)t.items[a]["tag"]="2020年3月20日",t.items[a]["content"]=e.data[a].title+e.data[a]["summary"],console.log(t.items),console.log("valid")}))},handleClickTab:function(t){this.$emit("handleClickTab",parseInt(t.index))}}},H=P,_=(a("7007"),Object(h["a"])(H,F,I,!1,null,"752e6fa4",null)),L=_.exports;a("b64b");function W(){return{data:["2016","2017"],axisType:"category",autoPlay:!0,loop:!0,currentIndex:0,playInterval:1200,left:"0",right:"1%",top:"0%",width:"99%",symbolSize:10,label:{formatter:function(t){return t.substr(5)}},checkpointStyle:{borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#ff8800",borderColor:"#ff8800"},emphasis:{color:"#aaa",borderColor:"#aaa"}}}}var R=W,z={title:{text:"",top:15,subtext:"点击各区块查看下级地图",textStyle:{color:"#4197FD",fontSize:16}},visualMap:{min:0,left:"left",top:"bottom",text:["高","低"],calculable:!0,inRange:{color:["#FFAA85","#FF7B69","#BF2121","#7F1818"],symbolSize:[40,40]}},series:[{name:"china",type:"map",mapType:"china",roam:!1,label:{emphasis:{show:!0,formatter:function(t){var e=t.data?t.data.tags[2]:0;return"{fline|"+t.name+"}\n{tline|确诊: "+t.value+"\n死亡："+e+"}\n"},position:"top",align:"left",fontSize:14,width:150,backgroundColor:"rgba(50, 50, 50, 0.8)",padding:[0,0],borderRadius:3,color:"#f7fafb",rich:{fline:{padding:[0,5,5,10],height:20,fontSize:16,fontWeight:400,color:"#FFFFFF"},tline:{padding:[0,5,5,10],color:"#F55253"}}},normal:{show:!1}},itemStyle:{normal:{label:{show:!1}},emphasis:{areaColor:null,borderColor:"#BF2121",borderWidth:1.5,shadowColor:"red",shadowOffsetX:-1,shadowOffsetY:-1,label:{show:!0}}},data:[{name:"北京",value:Math.round(1e3*Math.random())}]}]},Y=[],V={baseOption:{timeline:R(),visualMap:z.visualMap,series:z.series},options:[]},X={name:"china",option:z,superOption:V,initData:null,instance:null,useMaxValue:!0};function U(t,e,a){var n=E.formatRegion(e,t),i=n.reduce((function(t,e){return t+e.value}),0);return n.sort((function(t,e){return e.value-t.value})),a.title.text="共确诊："+i,n.length>0&&(a.title.subtext=n[0].name+"："+n[0].value),Y.push(n.length<2?10:n[1].value),a.series[0]["data"]=n,X.useMaxValue||(a["visualMap"]={max:parseInt(1.25*Y[Y.length-1])}),a}function q(t,e){var a=Object.keys(t);return V.baseOption.timeline.data=a,V.options=a.map((function(a){var n={title:{text:"",top:55,textStyle:{color:"#bbb",fontSize:16}},series:[{}]};return U(t[a],e,n)})),V.baseOption.timeline.autoPlay=!1,V.baseOption.timeline.currentIndex=a.length-1,V}X.initData=function(t,e,a,n){a=a||"china",z.series[0].mapType=a,z.series[0].label.normal.show="china"!=a,Y=[];var i=z;i=n?q(t,a):U(t,a,i);var o=parseInt(1.25*Y.reduce((function(t,e){return t>e?t:e})));return z.visualMap.max=o,X.instance=E.drawGraph(i,e),X.instance};var Q=X,K=Q,J=(a("4160"),a("159b"),{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},title:{text:"",top:15,textStyle:{color:"#4197FD",fontSize:16}},legend:{show:!0,right:10,top:50,data:["确诊","疑似","死亡","治愈"]},grid:[{left:-65,top:"88",bottom:"3%",width:100,containLabel:!0},{left:45,width:"58%",top:"68",bottom:"3%",containLabel:!0},{right:"40",width:"25%",top:"68",bottom:"3%",containLabel:!0}],xAxis:[{left:"10px",show:!1},{type:"value",show:!1,position:"top",gridIndex:1},{type:"value",show:!1,position:"top",gridIndex:2}],yAxis:[{type:"category",inverse:!0,data:["福建","广州","厦门","南宁","北京","长沙","重庆"],axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0,margin:85,textStyle:{color:"#455A74",align:"left",fontSize:14},rich:{a:{color:"#fff",backgroundColor:"#FAAA39",width:20,height:20,align:"center",borderRadius:2},b:{color:"#fff",backgroundColor:"#4197FD",width:20,height:20,align:"center",borderRadius:2}},formatter:function(t,e){return"{"+(e<3?"a":"b")+"|"+(e+1)+"}  "+t.substr(0,4)}}},{gridIndex:1,type:"category",inverse:!0,show:!1,data:["福建","广州","厦门","南宁","北京","长沙","重庆"],axisLine:{show:!1},axisTick:{show:!1}},{gridIndex:2,type:"category",inverse:!0,show:!1,data:["福建","广州","厦门","南宁","北京","长沙","重庆"],axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"确诊",type:"bar",barWidth:20,xAxisIndex:1,yAxisIndex:1,data:[320,302,301,334,390,330,320]},{name:"疑似",type:"bar",stack:!0,barWidth:20,xAxisIndex:2,yAxisIndex:2,data:[200,302,301,334,390,330,320]}]}),Z=["确诊","疑似","死亡","治愈"],$=[0,0,0,0],tt={baseOption:{timeline:R(),legend:J.legend,tooltip:J.tooltip,grid:J.grid,xAxis:J.xAxis,yAxis:J.yAxis,series:J.series,animationDurationUpdate:1200,animationEasingUpdate:"quinticInOut"},options:[]},et={name:"barChina",option:J,superOption:tt,initData:null,instance:null,useMaxValue:!0};function at(t,e,a){var n=[[],[],[],[]],i=0;t.sort((function(t,e){return e[1]-t[1]})).forEach((function(t){[1,3,4,5].forEach((function(e,a){n[a].push(t[e]),t[e]>$[a]&&($[a]=t[e]),0==a&&(i+=t[e])}))}));for(var o=0;o<3;o++)a["yAxis"][o]["data"]=t.map((function(t){return e[t[0]]||t[2]}));return a.title.text="累计确诊 "+i,a["series"]=Z.map((function(t,e){return{name:Z[e],type:"bar",barWidth:20,stack:!(e<1),xAxisIndex:e<1?1:2,yAxisIndex:e<1?1:2,itemStyle:{normal:{barBorderRadius:[2,2,2,2],shadowBlur:[0,0,0,10],color:E.Colors[e],shadowColor:E.Colors[e]}},label:{normal:{show:e<1||3==e,distance:5,position:"right"}},data:n[e]}})),a}function nt(t,e){var a=Object.keys(t);return tt.baseOption.timeline.data=a,tt.options=a.map((function(a){var n={title:{text:"",top:65,textStyle:{color:"#bbb",fontSize:14}},yAxis:[{data:[]},{data:[]},{data:[]}]};return at(t[a],e,n)})),tt}function it(t,e,a){var n=e;if(a){var i=Object.keys(e);n=e[i[i.length-1]]}var o=26*n.length+20;document.getElementById(t).style.height=(o<350?350:o)+"px"}et.initData=function(t,e,a,n){var i=J;i["legend"]["data"]=Z,$=[0,0,0,0],i=n?nt(t,a):at(t,a,i),"xs"===E.getDevice()&&(J.grid[1].width="51%"),et.useMaxValue&&(J.xAxis[1]["max"]=$[0],J.xAxis[2]["max"]=$[2]+$[3]),it(e,t,n);var o=E.drawGraph(i,e);o.dispatchAction({type:"legendUnSelect",name:"疑似"})};var ot=et,rt=ot,st=a("3835");function lt(){var t={title:[{text:"",left:0,textStyle:{fontSize:16}},{text:"",left:100,textStyle:{color:"#F55253",fontWeight:"normal",fontSize:12}}],tooltip:{trigger:"axis",backgroundColor:"rgba(13,177,205,0.8)",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#7B7DDC"},shadowStyle:{color:"rgba(250, 250, 250, 0.25)"}}},axisPointer:{link:{}},legend:{data:["累计确诊","新增确诊","累计治愈"],top:0,right:"30"},grid:[{containLabel:!0,left:0,right:0,top:30,height:120}],xAxis:[{data:["02-01","02-02","02-03"],axisLine:{lineStyle:{color:"#999",width:.6}},axisTick:{show:!0},axisLabel:{formatter:function(t){return t.substr(5)}}}],yAxis:[{name:"",axisLine:{lineStyle:{color:"#666"}},axisLabel:{formatter:function(t){return t<5e3?t:t/1e3+"k"},textStyle:{color:"#666"}},splitLine:{show:!0,lineStyle:{color:"rgba(205,205,205,0.3)"}}},{name:"",splitLine:{show:!1},min:0,axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:function(t){return t<1e3?t:t/1e3+"k"}}}],series:[{name:"累计确诊",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:4,yAxisIndex:0,itemStyle:{normal:{color:"#F55253"}},lineStyle:{width:1},data:[10,20,50]},{name:"新增确诊",type:"bar",barMaxWidth:20,yAxisIndex:1,itemStyle:{normal:{barBorderRadius:3,color:"#F55253"}},data:[10,8,5]},{name:"累计治愈",type:"line",smooth:!0,showAllSymbol:!0,symbol:"roundRect",symbolSize:4,yAxisIndex:1,itemStyle:{normal:{color:"#178B50"}},lineStyle:{width:1},data:[10,20,50]}]};return t}var ct=lt(),ut=[10,10],dt={name:"lineChina",option:ct,initData:null,instance:null,useMaxValue:!0};function mt(t){var e={},a=Object.keys(t).sort();return a.forEach((function(a){t[a].forEach((function(t){var n=t[0];n in e||(e[n]={name:t[2],data:[]});var i=[a,t[1],"",t[3],t[4],t[5],t[6],t[7]];e[n].data.push(i)}))})),console.log(e),e}function pt(t,e){var a=150*e+40;document.getElementById(t).style.height=(a<350?350:a)+"px"}function ht(t){return t[t.length-1]}function ft(t){var e=["↑","↓"];if(t.length<2)return"";var a=ht(t)>t[t.length-2]?0:1,n=e[a];if(2===t.length)return n;for(var i=t.length-3;i>=0;i--){var o=t[i+1]>t[i]?0:1;if(o!=a)break;n+=e[o]}return n.length>5?n.substr(0,5)+"➪"+n.length:n}function gt(t,e){var a=mt(t),n=Object.keys(a);pt(e,n.length),n.sort((function(t,e){return ht(a[e].data)[1]-ht(a[t].data)[1]})),n.length>0&&(ut[0]=ht(a[n[0]].data)[1]),n.length>1&&(ut[1]=ht(a[n[1]].data)[1]);var i=new E.interpolateColor(["#FFAA85","#FF7B69","#BF2121","#7F1818"],1.5*ut[1]),o=[[],[],[],[],[]];return ct.title=o[0],ct.grid=o[1],ct.xAxis=o[2],ct.yAxis=o[3],ct.series=o[4],n.forEach((function(t,e){var n=lt(),o=[n.title,n.grid[0],n.xAxis[0],n.yAxis,n.series],r=o[0],s=o[1],l=o[2],c=o[3],u=o[4];r[0].text=a[t].name,r[0].top=150*e+40,r[1].top=150*e+45,s.top=150*e+70,l.gridIndex=e,c[0].gridIndex=c[1].gridIndex=e,u[0].xAxisIndex=u[1].xAxisIndex=u[2].xAxisIndex=e;var d=[2*e,2*e+1,2*e];u[0].yAxisIndex=d[0],u[1].yAxisIndex=d[1],u[2].yAxisIndex=d[2];var m=a[t].data.reduce((function(t,e,a){var n=[e[0],e[1],e[6],e[5]];return t[0][a]=n[0],t[1][a]=n[1],t[2][a]=n[2],t[3][a]=n[3],t}),[[],[],[],[]]),p=Object(st["a"])(m,4);l.data=p[0],u[0].data=p[1],u[1].data=p[2],u[2].data=p[3];var h=ht(m[1]);r[1].text="确诊 "+h+", 新增 "+ht(m[2])+" · "+ft(m[2]),r[1].left=15*a[t].name.length+15,u[0].itemStyle.normal.color=u[1].itemStyle.normal.color=i.compute(h),ct.title.push(r[0],r[1]),ct.grid.push(s),ct.xAxis.push(l),ct.yAxis.push(c[0],c[1]),ct.series.push(u[0],u[1],u[2])})),ct}dt.initData=function(t,e,a){var n=gt(t,e);console.log([t,e,a,n]);var i=E.draw(dt,e);return i};var vt=dt,xt=vt,bt={baseOption:{timeline:R()},options:[]},yt={name:"china",option:null,superOption:bt,initData:null,instance:null,useMaxValue:!0};function wt(t,e){var a=0,n=[];for(a=0;a<t.length;a++)n.push({name:t[a],value:100});return e.title.text="热点舆论",e.series[0]["data"]=n,e.series[0]["type"]="wordCloud",e}function At(){var t={"2020-02-01":["双黄连","方舱","粮食"],"2020-02-02":["蝙蝠","蝗虫","穿山甲","双黄连","封城日记"],"2020-02-03":["境外","关门"],"2020-02-04":["A股","黄金"]},e=Object.keys(t);return bt.baseOption.timeline.data=e,bt.options=e.map((function(e){var a={title:{text:"",top:55,textStyle:{color:"#bbb",fontSize:16}},series:[{}]};return wt(t[e],a)})),bt.baseOption.timeline.autoPlay=!1,bt.baseOption.timeline.currentIndex=e.length-1,bt}yt.initData=function(t){var e=At();return yt.instance=E.drawGraph(e,t),yt.instance};var St=yt,Ct=St,kt={title:"",updateTime:"",tabs:[],sums:[],activeName:"china",code:86,level:1,init:function(t,e,a,n){var i=[t,e,a,n];this.title=i[0],this.updateTime=i[1],this.sums=i[2],this.tabs=i[3]},loadSummary:function(){var t=this;E.ajaxData(j.GetDataSummary,{level:this.level,name:this.code},(function(e){t.updateTime=e.data.updateTime;for(var a=e.data.summary,i=0;i<4;i++)a[0][i]&&n["default"].set(t.sums[i],"sum",a[0][i]),a[1][i]&&n["default"].set(t.sums[i],"add","+"+a[1][i])}))},loadMap:function(t){var e=this,a=t.mapName;if(a in E.Names)return e.loadData(t);E.ajaxData(j.GetMap,{id:a},(function(n){E.registerMap(a,n.data),e.loadData(t)}))},loadData:function(t){var e=this,a=[t.mapName,t.level,t.allTime],n=a[0],i=a[1],o=a[2];if(console.log("---load_data---"),console.log(t),t.data)return e.drawGraph(t);var r=o?j.GetTimeData:j.GetDataDetails;E.ajaxData(r,{level:i,name:n},(function(a){t.data=a.data,e.drawGraph(t,a.data)}))},drawGraph:function(t,e){var a=this,n=[t.mapName,t.level,t.allTime],i=n[0],o=n[1],r=n[2];if(e||(e=t.data),t.isLine){var s=xt.initData(e,t.ids[0],o);s.on("click",(function(t){console.log(t)}))}else if(t.isWord){console.log("WORD");var l=Ct.initData(t.ids[0]);l.on("click",(function(t){console.log(t)}))}else{console.log("draw_chartmap");var c=K.initData(e,t.ids[0],i,r);c.off("click"),c.on("click",(function(t){if("map"===t.seriesType){var e=a.tabs[2+r],n=[t.data.code,null];e.mapName=n[0],e.data=n[1],console.log(e.name),a.activeName=e.name,a.loadMap(e)}}));var u=E.Names[i];rt.initData(e,t.ids[1],u,r)}},handleClickTab:function(t){var e=this.tabs[t];if(console.log("click_change"),console.log(t),e.isLine)return this.loadData(e);this.loadMap(e)}},Dt=kt,Tt={name:"Home",components:{Common:L},props:{msg:String},data:function(){return{title:"国内疫情",updateTime:"2020.02.15 02:29",sums:[{name:"confirmed",text:"确诊",color:E.Colors[0],sum:63951,add:"+19"},{name:"suspected",text:"疑似",color:E.Colors[1],sum:8228,add:"+10"},{name:"die",text:"死亡",color:E.Colors[2],sum:1382,add:"+1"},{name:"ok",text:"治愈",color:E.Colors[3],sum:7094,add:"+366"}],tabs:[{label:"全国实时疫情",name:"china",ids:["ecChina","ecBar1"],level:1,allTime:0,data:null,mapName:"china"},{label:"省舆情回放",name:"chinaTime",ids:["ecChinaTime","ecBarTime1"],level:1,allTime:1,data:null,mapName:"china"},{label:"省区实时疫情",name:"province",ids:["ecProvince","ecBar2"],level:2,allTime:0,data:null,mapName:"420000"},{label:"时间序列回放",name:"provinceTime",ids:["ecProvinceTime","ecBarTime2"],level:2,allTime:1,data:null,mapName:"420000"},{label:"曲线分析",name:"lineChina",ids:["ecLineChina"],level:1,isLine:1,allTime:1,data:null,mapName:"china"},{label:"政策舆情时间线",name:"NewsTime",ids:["ecWordCloud"],level:1,isWord:1,allTime:1,data:null,mapName:"china"}],loader:Dt,mapHeight:"xs"===E.getDevice()?"330px":"500px"}},mounted:function(){Dt.init(this.title,this.updateTime,this.sums,this.tabs);var t=[1,"86"];Dt.level=t[0],Dt.code=t[1],Dt.loadSummary(),this.init(),console.log(this.$store.state),console.log("vuex!")},methods:{click:function(t){this.$store.state.showFooter=5==t,console.log("givechange"+this.$store.state.showFooter),Dt.handleClickTab(t)},init:function(){Dt.activeName="lineChina",Dt.loadData(this.tabs[4])}}},Ot=Tt,Nt=(a("0d42"),Object(h["a"])(Ot,O,N,!1,null,"5661affa",null)),Ft=Nt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"root"}},[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",name:"",id:"",placeholder:"输入您要鉴别的舆论"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{on:{click:t.btn}},[t._v("搜索")]),a("light-timeline",{attrs:{items:t.items}})],a("div",{staticClass:"blink",staticStyle:{position:"fixed",right:"10px",top:"90px","font-weight":"400","font-family":"宋体"}},[a("router-link",{attrs:{to:"/china"}},[t._v("返回")])],1)],2)},Bt=[],Mt={name:"Map",data:function(){return{search:"",raw:[],items:[]}},mounted:function(){this.init(),this.det()},methods:{btn:function(){},init:function(){var t=this,e=j.GetRumors;E.ajaxData(e,{need:"none"},(function(e){var a=0;for(t.items=e.data,a=0;a<e.data.length;a++)t.items[a]["tag"]="2020年3月20日",t.items[a]["content"]=e.data[a].title+e.data[a]["mainSummary"]}))},det:function(){}}},jt=Mt,Gt=(a("5490"),Object(h["a"])(jt,It,Bt,!1,null,null,null)),Et=Gt.exports;n["default"].use(T["a"]);var Pt=[{path:"",component:Ft},{path:"/china",component:Ft},{path:"/province",component:Ft},{path:"/map",component:Et}],Ht=new T["a"]({routes:Pt}),_t=Ht;n["default"].prototype.$echarts=A.a,n["default"].use(C.a),n["default"].use(D.a),n["default"].config.productionTip=!1,new n["default"]({el:"#app",router:_t,store:s,render:function(t){return t(y)}})},7007:function(t,e,a){"use strict";var n=a("d5ea"),i=a.n(n);i.a},a6b6:function(t,e,a){},cc5b:function(t,e,a){},d5ea:function(t,e,a){},e4bd:function(t,e,a){"use strict";var n=a("cc5b"),i=a.n(n);i.a}});
//# sourceMappingURL=index.715a72d7.js.map